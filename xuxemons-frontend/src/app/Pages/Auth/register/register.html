<div class="register-container">
<div class="register-card">
		<div class="header">
			<span class="brand-icon-box" aria-hidden="true">
				<img class="brand-icon" ngSrc="/icons/logo.svg" width="55" height="55" alt="Dishly logo" priority />
			</span>
			<h1 class="title">Join Our Community</h1>
			<p class="subtitle">Create your account and discover thousands of recipes</p>
		</div>

		<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="form">
			<div class="form-group">
				<label for="name" class="label">Name</label>
				<input
					type="text"
					id="name"
					formControlName="name"
					placeholder="Name"
					class="input"
					[class.input-error]="name?.invalid && name?.touched"
				/>
				@if (name?.invalid && name?.touched) {
					<span class="error-message">
						@if (name?.errors?.['required']) {
							Name is required
						}
						@if (name?.errors?.['minlength']) {
							Name must be at least 3 characters
						}
						@if (name?.errors?.['maxlength']) {
							Name cannot exceed 30 characters
						}
					</span>
				}
			</div>

            <div class="form-group">
				<label for="surname" class="label">Surname</label>
				<input
					type="text"
					id="surname"
					formControlName="surname"
					placeholder="Surname"
					class="input"
					[class.input-error]="surname?.invalid && surname?.touched"
				/>
				@if (surname?.invalid && surname?.touched) {
					<span class="error-message">
						@if (surname?.errors?.['required']) {
							Surname is required
						}
						@if (surname?.errors?.['minlength']) {
							Surname must be at least 3 characters
						}
						@if (surname?.errors?.['maxlength']) {
							Surname cannot exceed 30 characters
						}
					</span>
				}
			</div>

			<div class="form-group">
				<label for="email" class="label">Email</label>
				<input
					type="email"
					id="email"
					formControlName="email"
					placeholder="youremail@address.com"
					class="input"
					[class.input-error]="email?.invalid && email?.touched"
				/>
				@if (email?.invalid && email?.touched) {
					<span class="error-message">
						@if (email?.errors?.['required']) {
							Email is required
						}
						@if (email?.errors?.['email']) {
							Please enter a valid email address
						}
					</span>
				}
			</div>

			<div class="form-group">
				<label for="password" class="label">Password</label>
				<div class="password-wrapper">
					<input
						[type]="showPassword() ? 'text' : 'password'"
						id="password"
						formControlName="password"
						placeholder="········"
						class="input"
						[class.input-error]="password?.invalid && password?.touched"
					/>
					<button
						type="button"
						class="toggle-password"
						(click)="togglePassword()"
						aria-label="Toggle password visibility"
					>
						@if (showPassword()) {
							<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M2.5 10C2.5 10 5 4.5 10 4.5C15 4.5 17.5 10 17.5 10C17.5 10 15 15.5 10 15.5C5 15.5 2.5 10 2.5 10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
						} @else {
							<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M14.95 14.95C13.5255 16.0358 11.7904 16.6374 10 16.6667C5 16.6667 2.5 10 2.5 10C3.45556 7.94733 4.80439 6.12235 6.46667 4.63333M8.25 3.53333C8.82379 3.39907 9.41082 3.33195 10 3.33333C15 3.33333 17.5 10 17.5 10C17.0126 11.0692 16.3932 12.0704 15.6583 12.9833M11.7667 11.7667C11.5378 12.0123 11.2617 12.2093 10.9551 12.3459C10.6485 12.4826 10.3176 12.5563 9.98208 12.5627C9.64653 12.569 9.31332 12.5079 9.00153 12.3833C8.68974 12.2587 8.40579 12.0729 8.16791 11.8379C7.93002 11.6029 7.74064 11.3232 7.61214 11.0143C7.48365 10.7054 7.41867 10.3737 7.42079 10.0386C7.42292 9.70348 7.49211 9.37258 7.62446 9.06532C7.7568 8.75806 7.94959 8.48097 8.19 8.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M2.5 2.5L17.5 17.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
						}
					</button>
				</div>
				@if (password?.invalid && password?.touched) {
					<span class="error-message">
						@if (password?.errors?.['required']) {
							Password is required
						}
						@if (password?.errors?.['minlength']) {
							Password must be at least 8 characters
						}
					</span>
				}
			</div>

			<div class="form-group">
				<label for="confirmPassword" class="label">Confirm Password</label>
				<div class="password-wrapper">
					<input
						[type]="showConfirmPassword() ? 'text' : 'password'"
						id="confirmPassword"
						formControlName="confirmPassword"
						placeholder="········"
						class="input"
						[class.input-error]="confirmPassword?.invalid && confirmPassword?.touched"
					/>
					<button
						type="button"
						class="toggle-password"
						(click)="toggleConfirmPassword()"
						aria-label="Toggle confirm password visibility"
					>
						@if (showConfirmPassword()) {
							<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M2.5 10C2.5 10 5 4.5 10 4.5C15 4.5 17.5 10 17.5 10C17.5 10 15 15.5 10 15.5C5 15.5 2.5 10 2.5 10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
						} @else {
							<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M14.95 14.95C13.5255 16.0358 11.7904 16.6374 10 16.6667C5 16.6667 2.5 10 2.5 10C3.45556 7.94733 4.80439 6.12235 6.46667 4.63333M8.25 3.53333C8.82379 3.39907 9.41082 3.33195 10 3.33333C15 3.33333 17.5 10 17.5 10C17.0126 11.0692 16.3932 12.0704 15.6583 12.9833M11.7667 11.7667C11.5378 12.0123 11.2617 12.2093 10.9551 12.3459C10.6485 12.4826 10.3176 12.5563 9.98208 12.5627C9.64653 12.569 9.31332 12.5079 9.00153 12.3833C8.68974 12.2587 8.40579 12.0729 8.16791 11.8379C7.93002 11.6029 7.74064 11.3232 7.61214 11.0143C7.48365 10.7054 7.41867 10.3737 7.42079 10.0386C7.42292 9.70348 7.49211 9.37258 7.62446 9.06532C7.7568 8.75806 7.94959 8.48097 8.19 8.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M2.5 2.5L17.5 17.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
						}
					</button>
				</div>
				@if (confirmPassword?.invalid && confirmPassword?.touched) {
					<span class="error-message">
						@if (confirmPassword?.errors?.['required']) {
							Please confirm your password
						}
					</span>
				}
				@if (registerForm.errors?.['passwordMismatch'] && confirmPassword?.touched) {
					<span class="error-message">
						Passwords do not match
					</span>
				}
			</div>

			<div class="form-footer">
				<label class="terms-accept">
					<input type="checkbox" formControlName="acceptTerms" />
					<span>I accept the <a routerLink="/terms" class="link">Terms and Conditions</a> and <a routerLink="/privacy" class="link">Privacy Policy</a></span>
				</label>
			</div>

			<button type="submit" class="btn-submit" [disabled]="registerForm.invalid">
				Create Account
			</button>
		</form>

		<div class="login-prompt">
			<span>Already have an account?</span>
			<a routerLink="/login" class="login-link">Log In</a>
		</div>
	</div>

</div>